(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-detail-detail"],{"046b":function(t,e,n){"use strict";n.r(e);var a=n("7d87"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"0678":function(t,e,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("2909"));n("fb6a");var o=n("135c"),s={data:function(){return{songid:"",songname:"",authorname:"",albumname:"",artistid:"",songurl:"",coverurl:"",simisong:[],hotcomment:[],privileges:[],isplay:!1,isinit:!1,isturn:"paused"}},methods:{ToDetail:function(t){var e=this;uni.showLoading({title:"加载歌曲中……"}),this.innerAudioContext.stop(),this.isturn="paused",(0,o.getSongData)(t.currentTarget.id).then((function(t){e.songname=t.data.songs[0].name,e.authorname=t.data.songs[0].ar[0].name,e.albumname=t.data.songs[0].al.name,e.artistid=t.data.songs[0].ar[0].id,e.coverurl=t.data.songs[0].al.picUrl})).then((0,o.getSongUrl)(t.currentTarget.id).then((function(t){e.songurl=t.data.data[0].url,console.log(e.songurl),setInterval((function(){uni.hideLoading()}),1e3)}))).then((0,o.getSimiSong)(t.currentTarget.id).then((function(t){e.simisong=(0,i.default)(t.data.songs).slice(0,5)}))).then((0,o.getHotComment)(t.currentTarget.id).then((function(t){e.hotcomment=(0,i.default)(t.data.hotComments).slice(0,10)}))).then(this.isplay=!1,this.isinit=!1).catch((function(t){uni.showToast({title:"请重新进入列表或更换歌曲",icon:"error"})}))},back:function(){uni.navigateBack()},ToArtist:function(t){uni.navigateTo({url:"/pages/artists/artists?id=".concat(t.target.id)}),this.innerAudioContext.stop()},controlplay:function(){this.isinit||(this.innerAudioContext.destroy(),this.innerAudioContext.loop=!0,this.innerAudioContext.src=this.songurl,this.isinit=!0,console.log("音乐初始化成功"),1===this.privileges.fee&&uni.showToast({title:"会员专享歌曲，仅可试听30秒",icon:"none",duration:2e3})),this.isplay=!this.isplay,this.isplay?(this.innerAudioContext.play(),this.isturn="running",console.log("开始播放")):(this.innerAudioContext.pause(),this.isturn="paused",console.log("结束播放"))}},onLoad:function(t){var e=this;this.songid=t.songid,uni.showLoading({title:"加载歌曲中……"}),(0,o.getSongData)(this.songid).then((function(t){e.songname=t.data.songs[0].name,e.authorname=t.data.songs[0].ar[0].name,e.albumname=t.data.songs[0].al.name,e.artistid=t.data.songs[0].ar[0].id,e.coverurl=t.data.songs[0].al.picUrl,e.privileges=t.data.privileges[0]})).then((0,o.getSongUrl)(this.songid).then((function(t){e.songurl=t.data.data[0].url,console.log(e.songurl),setInterval((function(){uni.hideLoading()}),1e3)}))).then((0,o.getSimiSong)(this.songid).then((function(t){e.simisong=(0,i.default)(t.data.songs).slice(0,5)}))).then((0,o.getHotComment)(this.songid).then((function(t){e.hotcomment=(0,i.default)(t.data.hotComments)}))).catch((function(t){uni.showModal({title:"加载失败",content:"请重新进入歌曲播放页",cancelText:"返回主页",confirmText:"返回列表",success:function(t){t.confirm?uni.navigateBack():t.cancel&&uni.navigateTo({url:"/pages/index/index"})}})})),this.innerAudioContext=uni.createInnerAudioContext()},onBackPress:function(){this.innerAudioContext.stop(),console.log("返回")}};e.default=s},"135c":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.getArtistData=function(t){return new Promise((function(e,n){uni.request({url:"".concat(a.baseUrl,"/artists?id=").concat(t,"&realIP=116.25.146.177"),method:"GET",data:{},success:function(t){e(t)}})}))},e.getHotComment=function(t){return new Promise((function(e,n){uni.request({url:"".concat(a.baseUrl,"/comment/hot?id=").concat(t,"&type=0&realIP=116.25.146.177"),method:"GET",data:{},success:function(t){e(t)}})}))},e.getHotSearch=function(){return new Promise((function(t,e){uni.request({url:"".concat(a.baseUrl,"/search/hot/detail&realIP=116.25.146.177"),method:"GET",data:{},success:function(e){t(e)}})}))},e.getSearchResult=function(t){return new Promise((function(e,n){uni.request({url:"".concat(a.baseUrl,"/search?keywords=").concat(t,"&realIP=116.25.146.177"),method:"GET",data:{},success:function(t){e(t)}})}))},e.getSimiSong=function(t){return new Promise((function(e,n){uni.request({url:"".concat(a.baseUrl,"/simi/song?id=").concat(t,"&realIP=116.25.146.177"),method:"GET",data:{},success:function(t){e(t)}})}))},e.getSongData=function(t){return new Promise((function(e,n){uni.request({url:"".concat(a.baseUrl,"/song/detail?ids=").concat(t,"&realIP=116.25.146.177"),method:"GET",data:{},success:function(t){e(t)}})}))},e.getSongList=function(t,e){return new Promise((function(n,i){uni.request({url:"".concat(a.baseUrl,"/playlist/detail?id=").concat(t,"&userid=").concat(e,"&realIP=116.25.146.177"),method:"GET",data:{},success:function(t){n(t)}})}))},e.getSongUrl=function(t){return new Promise((function(e,n){uni.request({url:"".concat(a.baseUrl,"/song/url?id=").concat(t,"&realIP=116.25.146.177"),method:"GET",data:{},success:function(t){e(t)}})}))},e.timestampToTime=function(t){t=t||null;var e=new Date(t),n=e.getFullYear()+"-",a=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",i=(e.getDate()<10?"0"+e.getDate():e.getDate())+" ",o=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",s=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":",r=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return n+a+i+o+s+r},n("d3b7"),n("99af");var a=n("badb")},"254f":function(t,e,n){t.exports=n.p+"static/img/needle.ba07ced1.png"},2909:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,a.default)(t)||(0,i.default)(t)||(0,o.default)(t)||(0,s.default)()};var a=r(n("6005")),i=r(n("db90")),o=r(n("06c5")),s=r(n("3427"));function r(t){return t&&t.__esModule?t:{default:t}}},"2a82":function(t,e,n){"use strict";n.r(e);var a=n("2dc6"),i=n("046b");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);var s=n("f0c5"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"b81dca62",null,!1,a["a"],void 0);e["default"]=r.exports},"2dc6":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("van-tabbar",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("van-tabbar-item",{attrs:{icon:"home-o"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toIndex()}}},[t._v("首页")]),n("van-tabbar-item",{attrs:{icon:"search",dot:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toSearch()}}},[t._v("搜索")]),n("van-tabbar-item",{attrs:{icon:"service-o",dot:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toList()}}},[t._v("精品歌单")]),n("van-tabbar-item",{attrs:{icon:"friends-o"}},[t._v("个人中心")])],1)],1)},i=[]},3427:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},n("d9e2"),n("d401")},3437:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={commonTabbar:n("2a82").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"bg bg-blur",style:{backgroundImage:"url("+t.coverurl+")"}}),a("v-uni-view",{staticClass:"container"},[a("v-uni-scroll-view",{attrs:{"scroll-y":"true"}},[a("v-uni-view",{staticClass:"back",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back()}}},[a("van-icon",{staticClass:"back-arrow",attrs:{name:"arrow-left"}})],1),a("v-uni-scroll-view",{staticStyle:{height:"90vh"},attrs:{"scroll-y":"true"}},[a("v-uni-view",{staticClass:"play",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.controlplay()}}},[a("img",{staticClass:"coverImg turn",style:{"--turn":t.isturn},attrs:{src:t.coverurl,alt:""}}),a("img",{staticClass:"disc",attrs:{src:n("f4f2"),alt:""}}),a("img",{staticClass:"needle",attrs:{src:n("254f"),alt:""}}),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.isplay,expression:"!isplay"}]},[a("van-icon",{staticClass:"icon-play",attrs:{name:"play-circle-o"}})],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.isplay,expression:"isplay"}]},[a("van-icon",{staticClass:"icon-play",attrs:{name:"pause-circle-o"}})],1)],1),a("v-uni-view",{staticClass:"song-info"},[a("v-uni-view",{staticClass:"songname"},[t._v(t._s(t.songname))]),a("v-uni-view",{staticClass:"authorname",staticStyle:{"text-decoration":"underline"},attrs:{id:this.artistid},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.ToArtist(e)}}},[t._v("歌手："+t._s(t.authorname))]),a("v-uni-view",{staticClass:"authorname"},[t._v("专辑："+t._s(t.albumname))])],1)],1),a("v-uni-view",{staticClass:"recommend"},[a("v-uni-view",{staticClass:"recommend-head"},[a("v-uni-text",[t._v("喜欢这首歌的人也听")])],1),t._l(t.simisong,(function(e){return a("v-uni-view",{key:e.id,staticClass:"recommend-item",attrs:{id:e.id},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.ToDetail(e)}}},[a("img",{staticStyle:{width:"50px","border-radius":"10%",float:"left"},attrs:{src:e.album.blurPicUrl,alt:""}}),a("v-uni-view",{staticClass:"item-content"},[t._v(t._s(e.name)),a("van-icon",{staticStyle:{"font-size":"30px",position:"absolute",right:"10px"},attrs:{name:"play-circle-o"}}),a("v-uni-view",{staticClass:"item-author"},[t._v(t._s(e.artists[0].name))])],1)],1)}))],2),a("v-uni-view",{staticClass:"comment"},[a("v-uni-view",{staticClass:"comment-head"},[a("v-uni-text",[t._v("热门评论")])],1),t._l(t.hotcomment,(function(e){return a("div",{key:e.id,staticClass:"comment-item",staticStyle:{"border-bottom":"darkgray .5px solid"}},[a("v-uni-view",{staticClass:"comment-user"},[a("v-uni-view",[a("img",{staticStyle:{width:"50px","border-radius":"50%",float:"left","margin-right":"10px"},attrs:{src:e.user.avatarUrl,alt:""}}),a("v-uni-view",{staticStyle:{position:"absolute",right:"10px"}},[a("van-icon",{staticStyle:{"font-size":"15px",position:"absolute",right:"10px"},attrs:{name:"like-o"}}),a("v-uni-text",{staticStyle:{position:"absolute",right:"30px","font-size":"10px"}},[t._v(t._s(e.likedCount))])],1),a("v-uni-view",{staticClass:"user-content"},[t._v(t._s(e.user.nickname)),a("v-uni-text",{staticClass:"comment-time"},[t._v(t._s(e.timeStr))])],1)],1)],1),a("v-uni-view",{staticClass:"comment-content"},[t._v(t._s(e.content))])],1)})),a("v-uni-text",{staticClass:"more"},[t._v("更多评论请前往App查看")])],2)],1)],1),a("commonTabbar",{staticClass:"Tabbar"})],1)},o=[]},6005:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(Array.isArray(t))return(0,a.default)(t)};var a=function(t){return t&&t.__esModule?t:{default:t}}(n("6b75"))},"7d87":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"commonTabbar",data:function(){return{active:0,listId:[520767140,2078182964,486138039,454384988,454421366,402439190,400720330]}},methods:{toIndex:function(){uni.navigateTo({url:"/pages/index/index"})},toList:function(){uni.navigateTo({url:"/pages/list/list?listid=".concat(this.listId[Math.round(6*Math.random())])})},toSearch:function(){uni.navigateTo({url:"/pages/search/search"})}}};e.default=a},"7dbb":function(t,e,n){"use strict";n.r(e);var a=n("3437"),i=n("be40");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("ce09");var s=n("f0c5"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"4061bd94",null,!1,a["a"],void 0);e["default"]=r.exports},"7f3d":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".back[data-v-4061bd94]{width:200px;position:absolute;left:20px;top:20px;background-color:#ccc;z-index:1}.back-arrow[data-v-4061bd94]{color:#fff;font-size:16px;position:absolute;width:40px;height:40px;border-radius:40%}.bg[data-v-4061bd94]{position:fixed;width:100%;height:100vh;background-size:cover;background-position:center 0;background-repeat:no-repeat}.bg-blur[data-v-4061bd94]{position:fixed;-webkit-filter:blur(15px);-moz-filter:blur(15px);-o-filter:blur(15px);-ms-filter:blur(15px);filter:blur(15px) brightness(70%);-webkit-transform:scale(1.15);transform:scale(1.15)}.container[data-v-4061bd94]{position:relative;overflow:hidden}.play[data-v-4061bd94]{height:400px;position:absolute;top:calc(50% - 20px);-webkit-transform:translateY(-50%);transform:translateY(-50%);\n\t/*自己的50%*/width:100%}.coverImg[data-v-4061bd94]{position:absolute;width:200px;border-radius:50%;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)\n\t/*自己的50%*/}.turn[data-v-4061bd94]{\n\t/*旋转动画 */animation:turn-data-v-4061bd94 20s linear infinite;-webkit-animation-play-state:var(--turn)!important;animation-play-state:var(--turn)!important;-webkit-animation:turn-data-v-4061bd94 20s linear infinite}@-webkit-keyframes turn-data-v-4061bd94{from{-webkit-transform:translate(-50%,-50%) rotate(0deg);transform:translate(-50%,-50%) rotate(0deg)}to{-webkit-transform:translate(-50%,-50%) rotate(359deg);transform:translate(-50%,-50%) rotate(359deg)}}@keyframes turn-data-v-4061bd94{from{-webkit-transform:translate(-50%,-50%) rotate(0deg);transform:translate(-50%,-50%) rotate(0deg)}to{-webkit-transform:translate(-50%,-50%) rotate(359deg);transform:translate(-50%,-50%) rotate(359deg)}}.disc[data-v-4061bd94]{position:relative;width:300px;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.needle[data-v-4061bd94]{position:absolute;width:200px;left:51%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.icon-play[data-v-4061bd94]{font-size:4em;color:#fff;left:50%;position:absolute;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.song-info[data-v-4061bd94]{font-size:12px;position:absolute;left:50%;top:80%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);text-align:center;width:100%}.songname[data-v-4061bd94]{font-size:2em;color:#fff;margin-top:6em}.authorname[data-v-4061bd94]{font-size:1.1em;color:#dcdddf;margin-top:.5em}.recommend[data-v-4061bd94]{margin:100px 0 0 10px}.comment[data-v-4061bd94]{margin:20px 0 20% 10px}.recommend-item[data-v-4061bd94],\n.comment-item[data-v-4061bd94]{display:flex;padding-bottom:10px}.recommend-head[data-v-4061bd94],\n.comment-head[data-v-4061bd94]{font-size:20px;color:#fff;margin-bottom:15px}.item-content[data-v-4061bd94],\n.comment-content[data-v-4061bd94]{font-size:14px;color:#fff;float:left;margin-left:10px;text-overflow:ellipsis;overflow:hidden;width:90%}.comment-time[data-v-4061bd94]{display:flex;font-size:10px;color:#dcdddf}.user-content[data-v-4061bd94]{width:70px;text-align:start;white-space:nowrap}.comment-like[data-v-4061bd94]{position:absolute;right:10px;text-align:10px}.item-author[data-v-4061bd94],\n.comment-user[data-v-4061bd94]{font-size:13px;color:#dcdddf;margin-top:10px;width:50px}.item-author[data-v-4061bd94]{width:100%}.comment-content[data-v-4061bd94]{width:90%;margin-top:50px}.more[data-v-4061bd94]{font-size:12px;color:#dcdddf;text-decoration:underline;margin-top:20px;left:50%;position:absolute;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}",""]),t.exports=e},"9b54":function(t,e,n){var a=n("7f3d");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("d397ce1c",a,!0,{sourceMap:!1,shadowMode:!1})},badb:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.baseUrl=void 0;e.baseUrl="https://netease-cloud-music-api-seven-eta-88.vercel.app"},be40:function(t,e,n){"use strict";n.r(e);var a=n("0678"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},ce09:function(t,e,n){"use strict";var a=n("9b54"),i=n.n(a);i.a},db90:function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630")},f4f2:function(t,e,n){t.exports=n.p+"static/img/disc.d3bdd108.png"}}]);